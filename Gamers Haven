<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAMERS HAVEN | K ARCHIVE</title>
    <style>
        :root { --gold: #FCD535; --black: #050505; --white: #fff; }
        body { margin: 0; background: var(--black); color: var(--white); font-family: 'serif'; text-align: center; }
        
        header { padding: 40px; border-bottom: 0.5px solid rgba(252,213,53,0.2); position: sticky; top: 0; background: rgba(5,5,5,0.9); z-index: 100; }
        .grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, 60px); 
            gap: 5px; padding: 40px; justify-content: center; 
        }
        .plot { 
            width: 60px; height: 60px; border: 0.5px solid #333; 
            background: #111; transition: 0.3s; cursor: pointer; 
            display: flex; align-items: center; justify-content: center; overflow: hidden;
        }
        .plot:hover { border-color: var(--gold); transform: scale(1.1); z-index: 5; }
        .plot img { width: 100%; height: 100%; object-fit: cover; }
        
        .modal { 
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: #fff; color: #000; padding: 20px; display: none; z-index: 1000; 
        }
    </style>
</head>
<body>

    <header>
        <h1 style="letter-spacing: 10px; color: var(--gold);">GAMERS HAVEN</h1>
        <p style="font-size: 10px; letter-spacing: 3px;">1000 PRO-LEAGUE PLOTS | 60x60 PIXELS</p>
    </header>

    <div class="grid" id="pixelGrid"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyC43nC6qItCpRoGoUKmKzWSYUg9V-7cLbo",
            authDomain: "gamers-haven-ce22b.firebaseapp.com",
            projectId: "gamers-haven-ce22b",
            storageBucket: "gamers-haven-ce22b.firebasestorage.app",
            messagingSenderId: "515309551939",
            appId: "1:515309551939:web:986d865c1e3aaaac0b6ff6",
            measurementId: "G-XF2BMPEMP6"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const grid = document.getElementById('pixelGrid');

        // ১০০০টি প্লট জেনারেট করা
        async function loadPlots() {
            for (let i = 1; i <= 1000; i++) {
                const plot = document.createElement('div');
                plot.className = 'plot';
                plot.id = `G-${i}`;
                plot.onclick = () => window.location.href = 'support.html';
                grid.appendChild(plot);
            }
            
            // ডাটাবেস থেকে সোল্ড প্লট আপডেট করা
            const querySnapshot = await getDocs(collection(db, "gamers_haven"));
            querySnapshot.forEach((doc) => {
                const data = doc.data();
                const plotEl = document.getElementById(doc.id);
                if (plotEl) {
                    plotEl.innerHTML = `<img src="${data.image}" title="${data.name}">`;
                    plotEl.onclick = () => window.open(data.url, '_blank');
                    plotEl.style.borderColor = 'var(--gold)';
                }
            });
        }

        loadPlots();
    </script>
</body>
</html>
