<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOVEREIGN NFT GEN | ROYAL OASIS V2</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #FCD535; --dark-bg: #0B0E11; --card-bg: #121619; }
        body { background: var(--dark-bg); color: #fff; font-family: 'Inter', sans-serif; display: flex; flex-direction: column; align-items: center; padding: 40px; }

        /* প্যানেল স্টাইল */
        .admin-box { background: #1E2329; padding: 25px; border-radius: 12px; margin-bottom: 40px; width: 100%; max-width: 500px; border: 1px solid #333; }
        select, input { width: 100%; padding: 12px; margin: 8px 0 20px 0; background: #0B0E11; border: 1px solid #444; color: #fff; border-radius: 6px; box-sizing: border-box; }
        .btn-download { width: 100%; padding: 15px; background: var(--gold); color: #000; font-weight: 900; border: none; cursor: pointer; border-radius: 6px; text-transform: uppercase; }

        /* আপনার পাঠানো ইমেজের মতো এনএফটি ডিজাইন */
        #nft-export {
            width: 400px; height: 520px; background: #fff; border-radius: 15px;
            overflow: hidden; position: relative; color: #000;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
        }

        /* প্রাণীর ছবির জন্য ব্যাকগ্রাউন্ড (সেকশন অনুযায়ী রং বদলাবে) */
        .image-holder {
            width: 100%; height: 380px; display: flex; align-items: center; 
            justify-content: center; position: relative;
        }
        .image-holder img { width: 85%; height: 85%; object-fit: contain; z-index: 2; }

        /* নিচের টেক্সট অংশ */
        .details-holder {
            padding: 15px 20px; background: #fff; height: 140px;
            display: flex; flex-direction: column; justify-content: center;
        }
        .collection-name { font-size: 12px; color: #666; font-weight: 600; display: flex; align-items: center; }
        .collection-name::after { content: ' ✔'; color: #1d9bf0; margin-left: 5px; font-size: 14px; }
        
        .main-title { font-size: 20px; font-weight: 900; margin: 5px 0; text-transform: uppercase; letter-spacing: -0.5px; }
        
        .stats-grid { display: flex; justify-content: space-between; margin-top: 10px; border-top: 1px solid #eee; padding-top: 10px; }
        .stat-item span { display: block; font-size: 10px; color: #888; text-transform: uppercase; }
        .stat-item b { font-size: 14px; color: #000; }
    </style>
</head>
<body>

    <div class="admin-box">
        <h2 style="margin:0 0 20px 0; color:var(--gold)">CEO NFT ENGINE</h2>
        
        <label>Select Section & Species</label>
        <select id="sectionSelect" onchange="updateUI()">
            <option value="9999" data-color="#FFD700" data-img="https://cdn-icons-png.flaticon.com/512/614/614131.png">Royal Oasis (Amur Leopard)</option>
            <option value="7999" data-color="#A9A9A9" data-img="https://cdn-icons-png.flaticon.com/512/3520/3520775.png">Tycoon Plaza (Javan Rhino)</option>
            <option value="4999" data-color="#00FFCC" data-img="https://cdn-icons-png.flaticon.com/512/4148/4148490.png">Gamer Studio (Axolotl)</option>
            <option value="5999" data-color="#8B4513" data-img="https://cdn-icons-png.flaticon.com/512/4148/4148507.png">Crown Summit (Mountain Gorilla)</option>
            <option value="3999" data-color="#FFA500" data-img="https://cdn-icons-png.flaticon.com/512/10545/10545412.png">Elite Legacy (Sumatran Elephant)</option>
            <option value="2999" data-color="#00BFFF" data-img="https://cdn-icons-png.flaticon.com/512/2906/2906233.png">Heritage Vault (Vaquita)</option>
            <option value="1999" data-color="#FF4500" data-img="https://cdn-icons-png.flaticon.com/512/10545/10545419.png">Global Horizon (Bengal Tiger)</option>
        </select>

        <input type="text" id="ownerName" placeholder="Owner / Dynasty Name" oninput="updateUI()">
        <input type="text" id="plotID" placeholder="Plot ID (e.g. RO-01)" oninput="updateUI()">
        
        <button class="btn-download" onclick="downloadNFT()">Download High-Res NFT</button>
    </div>

    <div id="nft-export">
        <div class="image-holder" id="nftBg">
            <img id="nftImage" src="" crossOrigin="anonymous">
        </div>
        <div class="details-holder">
            <div class="collection-name" id="dispColl">Royal Oasis V2</div>
            <div class="main-title" id="dispOwner">OWNER NAME</div>
            
            <div class="stats-grid">
                <div class="stat-item">
                    <span>Plot Identifier</span>
                    <b id="dispPlot">#000</b>
                </div>
                <div class="stat-item" style="text-align: right;">
                    <span>Market Value</span>
                    <b id="dispPrice">$9,999</b>
                </div>
            </div>
        </div>
    </div>

    <script>
        function updateUI() {
            const sel = document.getElementById('sectionSelect');
            const opt = sel.options[sel.selectedIndex];
            
            // ডাটা আপডেট
            document.getElementById('nftBg').style.backgroundColor = opt.getAttribute('data-color');
            document.getElementById('nftImage').src = opt.getAttribute('data-img');
            document.getElementById('dispColl').innerText = opt.text.split(' (')[0];
            document.getElementById('dispPrice').innerText = "$" + opt.value;
            
            const name = document.getElementById('ownerName').value || "OWNER NAME";
            const plot = document.getElementById('plotID').value || "RO-00";
            
            document.getElementById('dispOwner').innerText = name;
            document.getElementById('dispPlot').innerText = "#" + plot;
        }

        function downloadNFT() {
            const element = document.getElementById('nft-export');
            html2canvas(element, {
                useCORS: true, // এটি ছবির সমস্যা সমাধান করবে
                scale: 3, // ছবি ফাটা রোধ করতে হাই স্কেল
                logging: false,
                allowTaint: false
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'Royal-Oasis-NFT.png';
                link.href = canvas.toDataURL("image/png");
                link.click();
            });
        }

        // শুরুতে লোড করা
        window.onload = updateUI;
    </script>
</body>
</html>
