<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROYAL OASIS | SOVEREIGN DYNASTIES</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Plus+Jakarta+Sans:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --bg: #030303;
            --gold: #D4AF37;
            --emerald: #00ffcc;
            --white: #E0E0E0;
            --crimson: #ff0033;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg);
            color: var(--white);
            font-family: 'Plus Jakarta Sans', sans-serif;
            padding: 50px 20px;
            text-align: center;
        }

        .header { margin-bottom: 50px; }
        .header h1 { font-family: 'Cinzel'; font-size: 40px; color: var(--gold); letter-spacing: 5px; }
        .header p { font-size: 12px; color: #888; margin-top: 10px; text-transform: uppercase; letter-spacing: 2px; }

        /* Canvas Grid */
        .plot-canvas {
            max-width: 1000px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            padding: 20px;
            background: rgba(212, 175, 55, 0.05);
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .plot {
            aspect-ratio: 1/1;
            background: #0a0a0a;
            border: 1px solid #222;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: 0.3s;
        }

        .plot:hover { border-color: var(--emerald); transform: scale(1.02); }
        .plot-id { font-family: 'Cinzel'; font-size: 14px; color: var(--gold); }
        .plot-price { font-size: 11px; margin-top: 5px; color: var(--white); }

        /* Modal / Pop-up */
        .overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95);
            display: none; align-items: center; justify-content: center; z-index: 1000;
        }

        .modal {
            background: #0d0d0d; border: 1px solid var(--gold);
            padding: 40px; width: 90%; max-width: 500px; text-align: left;
        }

        .modal h2 { font-family: 'Cinzel'; color: var(--emerald); margin-bottom: 20px; text-align: center; }

        input {
            width: 100%; padding: 15px; margin-bottom: 20px;
            background: #111; border: 1px solid #333; color: #fff; outline: none;
        }

        .btn-buy {
            width: 100%; padding: 15px; background: var(--gold); color: #000;
            border: none; font-family: 'Cinzel'; font-weight: 900; cursor: pointer;
        }

        /* Success Support Info */
        .support-list { background: #111; padding: 20px; margin: 20px 0; border-left: 3px solid var(--gold); }
        .support-list li { font-size: 12px; margin-bottom: 8px; color: #bbb; list-style: none; }

        .action-flex { display: flex; gap: 10px; margin-top: 20px; }
        .btn-msg { flex: 1; padding: 12px; background: var(--emerald); color: #000; text-decoration: none; text-align: center; font-weight: bold; font-size: 13px; }
        .btn-back { flex: 1; padding: 12px; background: #222; color: #fff; border: none; cursor: pointer; font-size: 13px; }

        @media (max-width: 768px) { .plot-canvas { grid-template-columns: repeat(3, 1fr); } }
    </style>
</head>
<body>

    <div class="header">
        <h1>ROYAL OASIS</h1>
        <p>Top-tier legacy plots for Sovereign Dynasties.</p>
    </div>

    <div class="plot-canvas" id="canvas">
        </div>

    <div class="overlay" id="orderModal">
        <div class="modal" id="modalContent">
            <h2>ACQUIRE PLOT</h2>
            <input type="text" id="brandName" placeholder="YOUR BRAND NAME">
            <input type="number" id="plotNumber" placeholder="PLOT NUMBER" readonly>
            <input type="text" id="plotPriceDisplay" readonly>
            <button class="btn-buy" onclick="submitAcquisition()">SUBMIT REQUEST</button>
        </div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCAdnfu2R82xbC7H85n_9mvQBE58X3TjbA",
            authDomain: "the-5k-elite-legacy.firebaseapp.com",
            databaseURL: "https://the-5k-elite-legacy-default-rtdb.firebaseio.com",
            projectId: "the-5k-elite-legacy",
            storageBucket: "the-5k-elite-legacy.firebasestorage.app",
            messagingSenderId: "440824313752",
            appId: "1:440824313752:web:2c93344dcfe2ba0a4c5ded"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function initCanvas() {
            const canvas = document.getElementById('canvas');
            for (let i = 1; i <= 35; i++) {
                const row = Math.floor((i - 1) / 5);
                const price = 9999 - (row * 100); // ১০০ ডলার করে কমবে
                const plot = document.createElement('div');
                plot.className = 'plot';
                plot.onclick = () => openModal(i, price);
                plot.innerHTML = `<span class="plot-id">#${i}</span><span class="plot-price">$${price.toLocaleString()}</span>`;
                canvas.appendChild(plot);
            }
        }

        function openModal(id, price) {
            document.getElementById('plotNumber').value = id;
            document.getElementById('plotPriceDisplay').value = `$${price.toLocaleString()}`;
            document.getElementById('orderModal').style.display = 'flex';
        }

        function submitAcquisition() {
            const brand = document.getElementById('brandName').value;
            const plotNum = document.getElementById('plotNumber').value;
            const price = document.getElementById('plotPriceDisplay').value;

            if (!brand) return alert("Please enter your brand name.");

            // Admin Panel Push
            db.ref('orders/' + Date.now()).set({
                brand: brand,
                plot: plotNum,
                price: price,
                timestamp: Date.now()
            }).then(() => {
                showSuccess(brand, plotNum, price);
            });
        }

        function showSuccess(brand, plot, price) {
            // Confetti Sequence
            const duration = 3 * 1000;
            const end = Date.now() + duration;
            (function frame() {
                confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#030303', '#D4AF37', '#00ffcc', '#E0E0E0', '#ff0033'] });
                confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#030303', '#D4AF37', '#00ffcc', '#E0E0E0', '#ff0033'] });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());

            const modal = document.getElementById('modalContent');
            const msg = encodeURIComponent(`CONGRATULATIONS ${brand}!\nRequest for Plot #${plot}\nPrice: ${price}\nReady for submission.`);
            
            modal.innerHTML = `
                <h2 style="color:var(--gold)">CONGRATULATIONS!</h2>
                <p style="text-align:center; font-size:14px; margin-bottom:20px;">Welcome to the Dynasty, <b>${brand}</b></p>
                <div class="support-list">
                    <li>• Target Plot: #${plot} / ${brand}</li>
                    <li>• High-Resolution Image/Logo Link</li>
                    <li>• External Website or Social Link</li>
                    <li>• Transaction Screenshot / TxID</li>
                </div>
                <div class="action-flex">
                    <a href="https://wa.me/8801576940717?text=${msg}" target="_blank" class="btn-msg">SEND MESSAGE</a>
                    <button class="btn-back" onclick="location.reload()">BACK TO CANVAS</button>
                </div>
            `;
        }

        window.onload = initCanvas;
    </script>
</body>
</html>
